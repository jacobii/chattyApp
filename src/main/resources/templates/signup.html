<!DOCTYPE html>
<html lang="en">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <meta charset="UTF-8">
    <title>ChatApp - Sign up</title>
</head>
<body>
<nav th:replace="header :: nav"></nav>
<h1 class="text-center">Register an account to be able to Chat!</h1>
<div sec:authorize="not isAuthenticated()">
<div class="container-lg">
    <form action="#" th:action="@{/signup}" th:object="${user}" method="POST">

        <input type="text" required th:field="*{name}"
               placeholder="Name" class="form-control mb-4 col-4">

        <input type="email" required th:field="*{email}"
               placeholder="Email" class="form-control mb-4 col-4">

        <input type="text" required th:field="*{username}"
               placeholder="Username" class="form-control mb-4 col-4">

        <input type="number" required th:field="*{age}"
               placeholder="Age" class="form-control mb-4 col-4">

        <input type="password" minlength="3" required th:field="*{password}"
               placeholder="Password" class="form-control mb-4 col-4">
        <div class="text-center">
            <button type="submit" class="btn btn-primary col-2" th:text="${title}"></button>
        </div>
    </form>
</div>
</div>
<div sec:authorize="isAuthenticated()">
<h3 class="mr-20" sec:authentication="name"></h3>

    <h3>You are already logged in to an account, you don't need another one. </h3>
</div>

</body>
</html>